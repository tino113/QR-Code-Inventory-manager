{% extends 'base.html' %}
{% block content %}
<h2>Batch QR</h2>
<form method="post" class="mb-3">
  <div class="mb-3">
    <label class="form-label">Number of codes</label>
    <input class="form-control" type="number" name="count" min="1" value="1">
  </div>
  <div class="mb-3">
    <label class="form-label">Columns: <span id="colsVal">{{ cols }}</span></label>
    <input class="form-range" type="range" min="1" max="10" name="cols" value="{{ cols }}" oninput="document.getElementById('colsVal').innerText=this.value">
  </div>
  <div class="mb-3">
    <label class="form-label">Rows: <span id="rowsVal">{{ rows }}</span></label>
    <input class="form-range" type="range" min="1" max="20" name="rows" value="{{ rows }}" oninput="document.getElementById('rowsVal').innerText=this.value">
  </div>
  <div class="mb-3">
    <label class="form-label">Type</label>
    <select class="form-select" name="qr_type">
      <option value="undefined">Undefined</option>
      <option value="item">Item</option>
      <option value="container">Container</option>
      <option value="location">Location</option>
    </select>
  </div>
  <button class="btn btn-primary" type="submit">Generate</button>
</form>
{% if codes %}
  <div class="mb-3">
    {% if zip_name %}
    <a class="btn btn-primary me-2" href="{{ url_for('static', filename='qr/' + zip_name) }}" download data-auth-download>Download ZIP</a>
    {% endif %}
    {% if pdf_name %}
    <a class="btn btn-primary me-2" href="{{ url_for('static', filename='qr/' + pdf_name) }}" download data-auth-download>Download PDF</a>
    {% endif %}
    {% if img_zip_name %}
    <a class="btn btn-primary" href="{{ url_for('static', filename='qr/' + img_zip_name) }}" download data-auth-download>Download Page Images</a>
    {% endif %}
  </div>
  <div class="mb-3">
  {% for c in codes %}
    <img src="{{ url_for('static', filename='qr/' + c + '.png') }}" class="qr-img m-1">
  {% endfor %}
  </div>
{% endif %}
{% endblock %}
