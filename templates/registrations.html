{% extends 'base.html' %}
{% block content %}
<h2>Manual Registration</h2>
<form method="post" class="mb-3">
  <div class="mb-3">
    <label class="form-label">First Code</label>
    <select class="form-select" name="first" required>
      <optgroup label="Items">
      {% for i in items %}
        <option value="{{ i.code }}">📄 {{ i.name }}</option>
      {% endfor %}
      </optgroup>
      <optgroup label="Containers">
      {% for c in containers %}
        <option value="{{ c.code }}">📦 {{ c.name or c.code }}</option>
      {% endfor %}
      </optgroup>
      <optgroup label="Locations">
      {% for l in locations %}
        <option value="{{ l.code }}">📍 {{ l.full_path() }}</option>
      {% endfor %}
      </optgroup>
    </select>
  </div>
  <div class="mb-3">
    <label class="form-label">Second Code</label>
    <select class="form-select" name="second" required>
      <optgroup label="Items">
      {% for i in items %}
        <option value="{{ i.code }}">📄 {{ i.name }}</option>
      {% endfor %}
      </optgroup>
      <optgroup label="Containers">
      {% for c in containers %}
        <option value="{{ c.code }}">📦 {{ c.name or c.code }}</option>
      {% endfor %}
      </optgroup>
      <optgroup label="Locations">
      {% for l in locations %}
        <option value="{{ l.code }}">📍 {{ l.full_path() }}</option>
      {% endfor %}
      </optgroup>
    </select>
  </div>
  <button class="btn btn-primary" type="submit">Register</button>
</form>
{% if message %}
<div class="alert alert-info">{{ message }}</div>
{% endif %}
{% endblock %}
