{% extends 'base.html' %}
{% block content %}
<h2>{{ location.name }}</h2>
{% if location.image %}
  <img src="{{ url_for('static', filename=location.image) }}" class="img-fluid mb-3 mx-auto d-block" style="max-width:200px;">
{% endif %}
<img src="{{ url_for('static', filename='qr/' + location.code + '.png') }}" class="mb-3 mx-auto d-block qr-img">
<ul class="list-group mb-3">
  <li>Code: {{ location.code }}</li>
  <li>Created: {{ location.created_at }} by {{ location.created_by.username if location.created_by else 'n/a' }}</li>
  <li>Updated: {{ location.updated_at }} by {{ location.updated_by.username if location.updated_by else 'n/a' }}</li>
</ul>
<div class="buttons-vertical">
  <a class="btn btn-info" href="/location/{{ location.code }}/edit">Edit</a>
  <a class="btn btn-danger" href="/location/{{ location.code }}/delete" onclick="return confirm('Delete location?');">Delete</a>
</div>
{% if location.parent %}
<p>Parent: <a href="/location/{{ location.parent.code }}">{{ location.parent.name }}</a></p>
{% endif %}
<h4>Children</h4>
<ul>
{% for child in location.children %}
  <li><a href="/location/{{ child.code }}">{{ child.name }}</a></li>
{% endfor %}
</ul>
<h4>Containers</h4>
<ul>
{% for c in location.containers %}
  <li><a href="/container/{{ c.code }}">{{ c.contents or c.code }}</a></li>
{% endfor %}
</ul>
<h4>Items</h4>
<ul>
{% for i in location.items %}
  <li><a href="/item/{{ i.code }}">{{ i.name }}</a></li>
{% endfor %}
</ul>
{% endblock %}

